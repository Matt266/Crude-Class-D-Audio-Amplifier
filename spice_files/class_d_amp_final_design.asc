Version 4
SHEET 1 5188 1540
WIRE 832 -480 784 -480
WIRE 960 -480 912 -480
WIRE 1008 -480 960 -480
WIRE 1136 -480 1088 -480
WIRE 784 -432 784 -480
WIRE 912 -432 784 -432
WIRE 1136 -432 1136 -480
WIRE 1136 -432 1008 -432
WIRE 912 -352 912 -368
WIRE 912 -352 624 -352
WIRE 1008 -352 1008 -368
WIRE 1376 -352 1008 -352
WIRE 912 -336 912 -352
WIRE 1008 -336 1008 -352
WIRE 816 -240 512 -240
WIRE 960 -240 960 -480
WIRE 960 -240 816 -240
WIRE 1136 -240 960 -240
WIRE 1552 -240 1136 -240
WIRE 816 -160 816 -240
WIRE 880 -160 816 -160
WIRE 1136 -160 1136 -240
WIRE 1136 -160 1104 -160
WIRE 880 -144 880 -160
WIRE 960 -112 960 -160
WIRE 1104 -112 1104 -160
WIRE 624 -96 624 -352
WIRE 656 -96 624 -96
WIRE 736 -80 736 -96
WIRE 768 -80 736 -80
WIRE 1248 -80 1248 -112
WIRE 1248 -80 1184 -80
WIRE 1328 -80 1328 -112
WIRE 1376 -80 1376 -352
WIRE 1376 -80 1328 -80
WIRE 656 -64 576 -64
WIRE 1408 -64 1328 -64
WIRE 576 -48 576 -64
WIRE 816 -48 816 -64
WIRE 880 -48 880 -80
WIRE 880 -48 816 -48
WIRE 912 -48 912 -272
WIRE 912 -48 880 -48
WIRE 1008 -48 1008 -272
WIRE 1104 -48 1008 -48
WIRE 1136 -48 1136 -64
WIRE 1136 -48 1104 -48
WIRE 1248 -48 1248 -80
WIRE 1328 -48 1328 -64
WIRE 656 -32 656 -64
WIRE 736 -32 736 -80
WIRE 816 -16 816 -48
WIRE 928 -16 816 -16
WIRE 1136 -16 1136 -48
WIRE 1136 -16 1008 -16
WIRE 1408 0 1392 0
WIRE 1632 0 1408 0
WIRE 576 16 496 16
WIRE 592 16 576 16
WIRE 816 16 816 -16
WIRE 880 16 816 16
WIRE 1136 16 1136 -16
WIRE 1136 16 1088 16
WIRE 880 32 880 16
WIRE 1088 32 1088 16
WIRE 496 48 496 16
WIRE 496 48 432 48
WIRE 1632 48 1632 0
WIRE 1744 48 1632 48
WIRE 1328 64 1328 48
WIRE 224 80 128 80
WIRE 432 80 432 48
WIRE 432 80 224 80
WIRE 656 80 656 64
WIRE 880 112 880 96
WIRE 880 112 816 112
WIRE 1088 112 1088 96
WIRE 1136 112 1088 112
WIRE 928 128 928 -16
WIRE 1008 128 1008 -16
WIRE -304 144 -368 144
WIRE 512 144 512 -240
WIRE 688 144 512 144
WIRE 768 144 768 96
WIRE 816 144 816 112
WIRE 1136 144 1136 112
WIRE 1184 144 1184 96
WIRE 1552 144 1552 -240
WIRE 1552 144 1264 144
WIRE -432 160 -656 160
WIRE -64 160 -64 144
WIRE 128 160 128 80
WIRE 128 160 -64 160
WIRE -304 176 -368 176
WIRE 688 176 592 176
WIRE -432 192 -592 192
WIRE 1360 192 1264 192
WIRE -208 208 -368 208
WIRE -128 208 -208 208
WIRE 592 208 592 176
WIRE 1360 208 1360 192
WIRE 688 224 688 176
WIRE 768 224 768 144
WIRE 1184 224 1184 144
WIRE 1264 224 1264 192
WIRE -816 256 -832 256
WIRE -800 256 -816 256
WIRE -720 256 -720 240
WIRE -720 256 -736 256
WIRE -656 256 -656 160
WIRE -656 256 -720 256
WIRE -720 272 -720 256
WIRE -64 272 -64 256
WIRE 592 272 304 272
WIRE 624 272 592 272
WIRE 1360 272 1328 272
WIRE 1664 272 1360 272
WIRE -304 304 -368 304
WIRE -592 320 -592 192
WIRE -560 320 -592 320
WIRE -432 320 -560 320
WIRE 48 320 48 304
WIRE 128 320 48 320
WIRE -304 336 -368 336
WIRE 688 336 688 320
WIRE 1264 336 1264 320
WIRE -656 352 -656 256
WIRE -432 352 -656 352
WIRE -208 368 -368 368
WIRE -16 368 -208 368
WIRE 128 384 128 320
WIRE 304 384 304 272
WIRE 304 384 128 384
WIRE -1184 416 -1184 304
WIRE 48 432 48 416
WIRE -560 448 -560 320
WIRE -544 448 -560 448
WIRE 304 448 304 384
WIRE 1744 448 1744 48
WIRE 1744 448 304 448
WIRE -560 464 -560 448
WIRE 224 480 224 80
WIRE 1664 480 1664 272
WIRE 1664 480 224 480
WIRE -1184 512 -1184 496
WIRE -672 672 -672 656
WIRE -672 672 -752 672
WIRE -592 672 -672 672
WIRE -752 704 -752 672
WIRE -592 704 -592 672
WIRE 224 720 224 688
WIRE 288 720 288 688
WIRE 288 720 224 720
WIRE 352 720 352 688
WIRE 352 720 288 720
WIRE 288 736 288 720
WIRE -672 752 -688 752
WIRE -656 752 -672 752
WIRE -912 768 -1264 768
WIRE -1264 880 -1264 768
WIRE -752 880 -752 800
WIRE -672 880 -672 752
WIRE -672 880 -752 880
WIRE -944 896 -992 896
WIRE -592 896 -592 800
WIRE -560 896 -560 528
WIRE -560 896 -592 896
WIRE 288 896 288 816
WIRE -1216 960 -1264 960
WIRE -912 960 -912 768
WIRE -912 960 -992 960
WIRE -752 960 -912 960
WIRE -672 960 -752 960
WIRE -592 960 -592 896
WIRE -560 960 -592 960
WIRE -464 960 -496 960
WIRE -1360 1024 -1376 1024
WIRE -1216 1024 -1296 1024
WIRE -672 1024 -672 960
WIRE -1264 1104 -1264 960
WIRE -944 1104 -944 896
WIRE -944 1104 -1264 1104
WIRE -672 1104 -752 1104
WIRE -752 1120 -752 1104
WIRE -592 1120 -592 960
WIRE -672 1168 -672 1104
WIRE -672 1168 -688 1168
WIRE -656 1168 -672 1168
WIRE -752 1232 -752 1216
WIRE -672 1232 -752 1232
WIRE -592 1232 -592 1216
WIRE -592 1232 -672 1232
WIRE -672 1264 -672 1232
FLAG 1136 144 0
FLAG 816 144 0
FLAG 960 -112 0
FLAG 1328 64 0
FLAG 656 80 0
FLAG 1264 336 0
FLAG 688 336 0
FLAG -304 176 0
FLAG -208 288 Vref
FLAG -304 336 0
FLAG -304 304 Vref
FLAG -208 128 Vref
FLAG -304 144 Vref
FLAG -64 64 Vref
FLAG -64 272 0
FLAG 48 224 Vref
FLAG 48 432 0
FLAG -816 256 audio_in
FLAG -720 352 0
FLAG -720 160 5V
FLAG -464 960 0
FLAG -672 576 Vcc
FLAG -672 1344 0
FLAG -1216 832 Vcc
FLAG -992 832 0
FLAG -1376 1024 0
FLAG -944 1168 0
FLAG 288 896 0
FLAG 288 688 Vcc
FLAG 224 688 Vref
FLAG -1184 304 audio_in
FLAG -1184 512 0
FLAG 352 688 5V
FLAG -464 448 0
FLAG -640 448 5V
SYMBOL voltage 960 -256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 61 42 Left 2
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL cap 992 -336 R0
SYMATTR InstName C1
SYMATTR Value 100nF
SYMBOL cap 896 -336 R0
SYMATTR InstName C2
SYMATTR Value 100nF
SYMBOL res 1232 -96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 752 -48 R90
WINDOW 0 56 20 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10
SYMBOL res 752 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res 784 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 784 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10
SYMBOL res 1280 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 1280 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10
SYMBOL schottky 896 -80 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value B550C
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 1120 -48 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value B550C
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 1104 96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value B550C
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 896 96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value B550C
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 1344 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10
SYMBOL npn 592 -32 R0
SYMATTR InstName Q1
SYMATTR Value BD139
SYMBOL schottky 1376 272 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value B550C
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 608 272 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -66 61 Left 2
SYMATTR InstName D6
SYMATTR Value B550C
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 592 16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D7
SYMATTR Value B550C
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 1424 0 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D8
SYMATTR Value B550C
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL nmos 768 -160 R0
WINDOW 0 92 26 Left 2
WINDOW 3 -81 -12 Left 2
SYMATTR InstName M1
SYMATTR Value PSMN057200B
SYMBOL npn 624 224 R0
SYMATTR InstName Q2
SYMATTR Value BD139
SYMBOL npn 1392 -48 M0
SYMATTR InstName Q3
SYMATTR Value BD139
SYMBOL npn 1328 224 M0
SYMATTR InstName Q4
SYMATTR Value BD139
SYMBOL nmos 768 16 R0
WINDOW 0 92 26 Left 2
WINDOW 3 -81 -12 Left 2
SYMATTR InstName M2
SYMATTR Value PSMN057200B
SYMBOL nmos 1184 16 M0
WINDOW 0 92 26 Left 2
WINDOW 3 -81 -12 Left 2
SYMATTR InstName M3
SYMATTR Value PSMN057200B
SYMBOL nmos 1184 -160 M0
WINDOW 0 92 26 Left 2
WINDOW 3 -81 -12 Left 2
SYMATTR InstName M4
SYMATTR Value PSMN057200B
SYMBOL res 928 -496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10
SYMBOL res 1104 -496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10
SYMBOL schottky 896 -432 R0
SYMATTR InstName D9
SYMATTR Value B550C
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 992 -432 R0
SYMATTR InstName D10
SYMATTR Value B550C
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL AutoGenerated\\LM393A -400 176 R0
SYMATTR InstName U1
SYMBOL AutoGenerated\\LM393A -400 336 R0
SYMATTR InstName U2
SYMBOL res -192 224 R180
WINDOW 0 36 60 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R11
SYMATTR Value 1000
SYMBOL res -192 384 R180
WINDOW 0 42 61 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R12
SYMATTR Value 1000
SYMBOL npn -128 160 R0
SYMATTR InstName Q5
SYMATTR Value BC547C
SYMBOL res -80 48 R0
SYMATTR InstName R13
SYMATTR Value 50
SYMBOL npn -16 320 R0
SYMATTR InstName Q6
SYMATTR Value BC547C
SYMBOL res 32 208 R0
SYMATTR InstName R14
SYMATTR Value 50
SYMBOL polcap -736 240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 100µF
SYMBOL res -736 256 R0
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL res -736 144 R0
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL res 1024 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 4
SYMBOL pnp -688 800 R180
SYMATTR InstName Q7
SYMATTR Value BC557C
SYMBOL pnp -656 800 M180
SYMATTR InstName Q8
SYMATTR Value BC557C
SYMBOL res -768 864 R0
SYMATTR InstName R18
SYMATTR Value 220
SYMBOL cap -560 976 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C5
SYMATTR Value 10nF
SYMBOL npn -688 1120 M0
SYMATTR InstName Q9
SYMATTR Value BC547C
SYMBOL npn -656 1120 R0
SYMATTR InstName Q10
SYMATTR Value BC547C
SYMBOL res -688 1008 R0
SYMATTR InstName R19
SYMATTR Value 220
SYMBOL Misc\\NE555 -1104 928 M0
SYMATTR InstName U3
SYMBOL cap -1360 1008 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 100nF
SYMBOL cap -960 1168 M180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C7
SYMATTR Value 1nF
SYMBOL res -1248 864 M0
SYMATTR InstName R20
SYMATTR Value 3k
SYMBOL res -688 560 R0
SYMATTR InstName R21
SYMATTR Value 22
SYMBOL res -688 1248 R0
SYMATTR InstName R22
SYMATTR Value 22
SYMBOL voltage 288 720 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL Misc\\signal -1184 400 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 44 Left 2
SYMATTR SpiceLine Rser=600
SYMATTR InstName V4
SYMATTR Value SINE(0 1.75 2k 0 0 0)
SYMBOL polcap -576 464 R0
SYMATTR InstName C8
SYMATTR Value 100µF
SYMBOL res -560 464 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R24
SYMATTR Value 100k
SYMBOL res -544 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 1.47Mega
TEXT 936 592 Left 4 ;200kHz
TEXT -408 -128 Left 2 !.tran 0 25ms 1ms
